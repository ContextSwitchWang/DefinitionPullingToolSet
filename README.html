<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div id="definition-pulling-tool-set" class="slide section level1">
<h1>Definition Pulling Tool Set</h1>
<p>This tool set is used to retrieve definition from wiktionary, which is suited for use in Anki.</p>
<h3 id="prerequisite">Prerequisite</h3>
<h5 id="must">Must:</h5>
<p>wget, make, a bash compatible shell, perl (with module uri installed)</p>
<h5 id="optional">Optional:</h5>
<p>A haskell compiler, ghc perferrable. If you want to recompile.</p>
<h3 id="basic-usage">Basic Usage:</h3>
<ol style="list-style-type: decimal">
<li><p>Write the vocabularies one line per word in text files which must be ended with <code>.sc</code> extension. You want to use multiple files thus only changed ones will be rebuilt.</p></li>
<li><p>Run <code>automake.sh</code> in the same directory to generate Makefile</p></li>
<li><p>In the same directory run <code>make</code>. When you do that <code>get.sh</code> will be run for every source file modified since last build.</p></li>
</ol>
<h3 id="details">Details:</h3>
<ul>
<li><p><code>ParserQ.hs</code></p>
<p>Used to encode word and its definition into a single <code>csv</code> record.</p></li>
<li><p><code>ParserD.hs</code></p>
<p>Used to edit and view <code>csv</code> file. You don't need to use it.</p></li>
<li><p><code>ParseWiki.hs</code></p>
<p>Used to parse the html retrieved from wiktionary and extract the information you need. For example, when you are learning German, you obviously don't want to see definition for other languages. Modify it to suit you needs.</p></li>
<li><p><code>replace.hs</code></p>
<p>Used to parse the words you wrote, which allows you to use escape sequence to write non-English character. For example, you can type German umlaut like <code>\u \a \o</code>, which would be replaced with <code>ü ä ö</code>. Modify it to suit you needs.</p></li>
</ul>
<h3 id="tips">Tips</h3>
<ul>
<li><p>You can put compiled <code>ParserQ</code>, <code>ParseWiki</code> and <code>replace</code> any where you like, but you must modify <code>get.sh</code> so it can find them.</p></li>
<li><p>You can modify or supply environment variable to <code>automake.sh</code> to change the output file name.</p></li>
</ul>
<h3 id="troubleshooting">Troubleshooting</h3>
<ol style="list-style-type: decimal">
<li>&quot;Field max limit exceeded&quot; or alike problem when importing generated files.</li>
</ol>
<p>Too bad. You gotta find and truncate the field which is too long manually. For example, the definition for <code>Haus</code> on wiktionary is just too long. I can't make Anki import it anyhow.</p>
<h3 id="contact">Contact</h3>
<p>Send an email to <script type="text/javascript">
<!--
h='&#x67;&#x6d;&#x61;&#x69;&#108;&#46;&#x63;&#x6f;&#x6d;';a='&#64;';n='&#104;&#x75;&#x67;&#104;&#x77;&#x75;&#110;&#x67;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#104;&#x75;&#x67;&#104;&#x77;&#x75;&#110;&#x67;&#32;&#x61;&#116;&#32;&#x67;&#x6d;&#x61;&#x69;&#108;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#x6d;</noscript> if you have any questions.</p>
</div>
</body>
</html>
